# Fortress Rollback Documentation
# MkDocs Material Configuration
# https://squidfunk.github.io/mkdocs-material/

# =============================================================================
# Site Metadata
# =============================================================================
site_name: Fortress Rollback
site_description: >-
  A correctness-first fork of GGRS providing peer-to-peer rollback networking
  for deterministic multiplayer games
site_url: https://wallstop.github.io/fortress-rollback/
repo_url: https://github.com/wallstop/fortress-rollback
repo_name: wallstop/fortress-rollback
edit_uri: edit/main/docs/
docs_dir: docs
copyright: >-
  Copyright &copy; 2021-2025 Georg Sch√ºtz and contributors.
  Licensed under MIT OR Apache-2.0.

# =============================================================================
# Theme Configuration
# =============================================================================
theme:
  name: material
  # Color palette with dark/light toggle
  palette:
    # Dark mode (Rust-inspired, default)
    - scheme: slate
      primary: teal
      accent: orange
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
    # Light mode
    - scheme: default
      primary: teal
      accent: orange
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
  # Theme features
  features:
    # Navigation
    - navigation.instant
    - navigation.instant.prefetch
    - navigation.instant.progress
    - navigation.tracking
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.sections
    - navigation.expand
    - navigation.indexes
    - navigation.top
    - navigation.footer
    # Table of contents
    - toc.follow
    # Search
    - search.suggest
    - search.highlight
    - search.share
    # Content
    - content.tabs.link
    - content.code.copy
    - content.code.annotate
    - content.action.edit
    - content.action.view
    # Header
    - header.autohide
  # Icons
  icon:
    repo: fontawesome/brands/github
    edit: material/pencil
    view: material/eye
  # Custom logo/favicon (uncomment when available)
  # logo: assets/logo.svg
  # favicon: assets/favicon.png

# =============================================================================
# Plugins
# =============================================================================
plugins:
  - search:
      separator: '[\s\-,:!=\[\]()"/]+|(?!\b)(?=[A-Z][a-z])|\.(?!\d)|&[lg]t;'
  - tags
  # Uncomment for minified HTML in production
  # - minify:
  #     minify_html: true

# =============================================================================
# Markdown Extensions
# =============================================================================
markdown_extensions:
  # Standard extensions
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - tables
  # Table of contents with permalinks
  - toc:
      permalink: true
      permalink_title: Anchor link to this section
      toc_depth: 3
  # PyMdown Extensions
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.mark
  - pymdownx.tilde
  - pymdownx.critic
  - pymdownx.details
  - pymdownx.keys
  - pymdownx.smartsymbols
  # Code highlighting
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
      auto_title: true
  - pymdownx.inlinehilite
  # Code blocks with special fences (mermaid diagrams)
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  # Tabbed content
  - pymdownx.tabbed:
      alternate_style: true
      combine_header_slug: true
  # Task lists
  - pymdownx.tasklist:
      custom_checkbox: true
  # Emoji support with Material icons
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  # Snippets for including external files
  - pymdownx.snippets:
      auto_append:
        - docs/includes/abbreviations.md
      check_paths: true
  # Magic links for GitHub references
  - pymdownx.magiclink:
      repo_url_shorthand: true
      user: wallstop
      repo: fortress-rollback

# =============================================================================
# Extra Configuration
# =============================================================================
extra:
  # Social links
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/wallstop/fortress-rollback
      name: Fortress Rollback on GitHub
    - icon: fontawesome/brands/rust
      link: https://crates.io/crates/fortress-rollback
      name: fortress-rollback on crates.io
    - icon: fontawesome/solid/book
      link: https://docs.rs/fortress-rollback
      name: API Documentation on docs.rs
  # Version provider (uncomment for versioned docs)
  # version:
  #   provider: mike
  # Disable "Made with Material for MkDocs" footer
  generator: false
  # Analytics (uncomment and configure for production)
  # analytics:
  #   provider: google
  #   property: G-XXXXXXXXXX
  #   feedback:
  #     title: Was this page helpful?
  #     ratings:
  #       - icon: material/emoticon-happy-outline
  #         name: This page was helpful
  #         data: 1
  #         note: Thanks for your feedback!
  #       - icon: material/emoticon-sad-outline
  #         name: This page could be improved
  #         data: 0
  #         note: Thanks for your feedback! Help us improve by opening an issue.

# =============================================================================
# Custom CSS
# =============================================================================
extra_css:
  - stylesheets/custom.css

# =============================================================================
# Custom JavaScript (uncomment if needed)
# =============================================================================
# extra_javascript:
#   - javascripts/mathjax.js
#   - https://polyfill.io/v3/polyfill.min.js?features=es6
#   - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js

# =============================================================================
# Navigation Structure
# =============================================================================
nav:
  - Home: index.md
  - Getting Started:
      - User Guide: user-guide.md
      - Migration Guide: migration.md
  - Architecture:
      - Overview: architecture.md
      - Fortress vs GGRS: fortress-vs-ggrs.md
  - Specifications:
      - specs/README.md
      - Formal Specification: specs/formal-spec.md
      - API Contracts: specs/api-contracts.md
      - Determinism Model: specs/determinism-model.md
      - Spec Divergences: specs/spec-divergences.md
  - Contributing:
      - Guidelines: contributing.md
      - Code of Conduct: code-of-conduct.md
  - Reference:
      - Changelog: changelog.md
      - GGRS Archive: ggrs-changelog-archive.md
      - TLA+ Research: tlaplus-tooling-research.md
